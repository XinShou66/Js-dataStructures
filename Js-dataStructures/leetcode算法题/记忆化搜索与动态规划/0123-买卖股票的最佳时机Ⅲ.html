<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>0123-买卖股票的最佳时机Ⅲl</title>
</head>
<body>
<script>
    /*给定一个数组，它的第 i 个元素是一支给定的股票在第 i 天的价格。
    设计一个算法来计算你所能获取的最大利润。你最多可以完成 两笔 交易。
    注意：你不能同时参与多笔交易（你必须在再次购买前出售掉之前的股票）。*/

    /**
     * @param {number[]} prices
     * @return {number}
     */
    var maxProfit = function(prices) {
        let buy1 = -prices[0]; //第一次买入，手里有一只股票的最大利润
        let buy2 = -prices[0]; //第二次买入，手里有一只股票的最大利润

        let sell1 = 0; //第一次卖出，手里没有股票的最大利润
        let sell2 = 0; //第二次卖出，手里没有股票的最大利润

        for (let i = 0; i < prices.length; i++) {
            buy1 = Math.max(buy1, - prices[i]);
            sell1 = Math.max(sell1, buy1 + prices[i]);

            buy2 = Math.max(buy2, sell1 - prices[i]);
            sell2 = Math.max(sell2, buy2 + prices[i]);

        }

        return sell2;
    };


    //运行结果：运行时间击败100%(96ms)，内存消耗击败71.31%(48.2mb)

</script>
</body>
</html>